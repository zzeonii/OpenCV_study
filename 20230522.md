# 컬러사진을 흑백으로 변환

```python
import cv2

# 이미지 데이터를 img라는 변수에 저장
img = cv2.imread("/home/a/Downloads/dog.jpg")
print(img)

# 이미지를 흑백으로 전환하고, img_gray라는 변수에 저장
img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

if img is not None: # 이미지파일이 있으면 아래 실행
    cv2.imshow('original', img) # 원본이미지 보이기
    cv2.imshow('gray',img_gray) # 흑백이미지 보이기

    cv2.waitKey() # 사용자 키 입력시 기다리기
    cv2.destroyAllWindows() # 모든 창 종료

else: # 이미지가 없는 경우 에러메세지 출력
    print('No img file.')
```

![image](https://github.com/zzeonii/OpenCV_study/assets/129237950/5bc92ba9-d887-4290-96f6-75fe814c1848)


# 웹캠으로 사진 찍기
```python
import cv2

cap = cv2.VideoCapture(1) # 1번 카메라 연결

if cap.isOpened():
    while True:
        ret, frame = cap.read() # 카메라 프레임 읽기
        if ret:
            cv2.imshow('camera', frame) # 프레임 화면에 표시
            if cv2.waitKey(1) != -1: # 아무키나 누르면
                cv2.imwrite('photo.jpg', frame) # 프레임을 'photo.jpg'에 저장
                break
        else:
            print('no frame!')
            break
else:
    print('no camera!')
cap.release()
cv2.destroyAllWindows()
```

# 이미지 프로세싱
- 이미지 처리는 이미지를 디지털 형태로 변환하고 특정 작업을 ...

# 특정 생상 검출
### 빨간색 도형 검출
```python
import cv2
import numpy as np

img_file = '/home/a/Downloads/shapes.png'

# RGB 이미지 데이터
img = cv2.imread(img_file)

dst1 = cv2.inRange(img, (0,0,100), (150, 150, 255))

cv2.imshow('original', img) # RGB
cv2.imshow('red only', dst1)

cv2.waitKey(0)
cv2.destroyAllWindows()
```
![image](https://github.com/zzeonii/OpenCV_study/assets/129237950/43cc478e-4a9c-4444-8283-987c4bef1489)

### HSV 이용하여 검출
```python
import cv2
import numpy as np

img_file = '/home/a/Downloads/shapes.png'

# RGB 이미지 데이터
img = cv2.imread(img_file)

img_hsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)

dst1 = cv2.inRange(img, (0,0,100), (150, 150, 255))
# H(색상):160~179 S(채도):200~255 V(진하기):0~255
dst2 = cv2.inRange(img_hsv, (160, 200, 0), (179, 255, 255))

cv2.imshow('original', img) # RGB
cv2.imshow('red only', dst1)
cv2.imshow('red only with hsv', dst2)


cv2.waitKey(0)
cv2.destroyAllWindows()
```
![image](https://github.com/zzeonii/OpenCV_study/assets/129237950/a522a0a4-f7d0-42bb-95e1-b153be770315)
- HSV를 추가하여 사용하면 조금 더 세밀하게 검출할 수 있다.
